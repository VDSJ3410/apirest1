CREATE TABLE EMPRESA (
    IDEMPRESA NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(50) NOT NULL
);
COMMENT ON TABLE EMPRESA IS 'TABLA CON LAS EMPRESAS';
COMMENT ON COLUMN EMPRESA.IDEMPRESA IS 'LLAVE PRIMARIA DE LA TABLA EMPRESA';
COMMENT ON COLUMN EMPRESA.NOMBRE IS 'NOMBRE DE LA EMPRESA';

-- Creamos la tabla DEPARTAMENTO
CREATE TABLE DEPARTAMENTO (
    IDDEPARTAMENTO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    IDEMPRESA NUMBER,
    NOMBRE VARCHAR2(50) NOT NULL
);
ALTER TABLE DEPARTAMENTO ADD CONSTRAINT FK_DEPARTAMENTO_EMPRESA FOREIGN KEY (IDEMPRESA) REFERENCES EMPRESA(IDEMPRESA);
COMMENT ON TABLE DEPARTAMENTO IS 'TABLA QUE CONTIENE LOS DEPARTAMENTOS DE UNA EMPRESA';
COMMENT ON COLUMN DEPARTAMENTO.IDDEPARTAMENTO IS 'LLAVE PRIMARIA DE LA TABLA DEPARTAMENTO';
COMMENT ON COLUMN DEPARTAMENTO.IDEMPRESA IS 'LLAVE FORANEA QUE APUNTA A LA TABLA EMPRESA';
COMMENT ON COLUMN DEPARTAMENTO.NOMBRE IS 'NOMBRE DEL DEPARTAMENTO';

-- Creamos la tabla EMPLEADO
CREATE TABLE EMPLEADO (
    IDEMPLEADO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    IDDEPARTAMENTO NUMBER NOT NULL,
    NOMBRE VARCHAR2(50) NOT NULL,
    EDAD NUMBER NOT NULL,
    FECHANACIMIENTO DATE NOT NULL    
);
ALTER TABLE EMPLEADO ADD CONSTRAINT FK_EMPLEADO_DEPARTAMENTO FOREIGN KEY (IDDEPARTAMENTO) REFERENCES DEPARTAMENTO(IDDEPARTAMENTO);
COMMENT ON TABLE EMPLEADO IS 'TABLA QUE CONTIENE LOS EMPLEADOS DE LOS DEPARTAMENTOS';
COMMENT ON COLUMN EMPLEADO.IDEMPLEADO IS 'LLAVE PRIMARIA DE LA TABLA EMPLEADO';
COMMENT ON COLUMN EMPLEADO.IDDEPARTAMENTO IS 'LLAVE FORANEA QUE APUNTA A LA TABLA DEPARTAMENTO';
COMMENT ON COLUMN EMPLEADO.NOMBRE IS 'NOMBRE DEL EMPLEADO';
COMMENT ON COLUMN EMPLEADO.EDAD IS 'EDAD DEL EMPLEADO';
COMMENT ON COLUMN EMPLEADO.FECHANACIMIENTO IS 'FECHA DE NACIMIENTO DEL EMPLEADO';

ALTER TABLE EMPLEADO ADD ID_PUESTO NUMBER;
ALTER TABLE EMPLEADO ADD CONSTRAINT FK_EMPLEADO_PUESTO FOREIGN KEY (ID_PUESTO) REFERENCES PUESTOS (ID_PUESTO);

-- Creamos Tabla Sucursales
CREATE TABLE SUCURSALES (
    ID_SUCURSAL NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    IDEMPRESA NUMBER,
    NOMBRE VARCHAR2(100) NOT NULL,
    DIRECCION VARCHAR2(50) NOT NULL,
    CIUDAD VARCHAR2(50) NOT NULL,
    FECHA_APERTURA DATE NOT NULL   
);

ALTER TABLE SUCURSALES ADD CONSTRAINT FK_IDEMPRESA_SUCURSALES FOREIGN KEY (IDEMPRESA) REFERENCES EMPRESA(IDEMPRESA);
COMMENT ON TABLE SUCURSALES IS 'TABLA QUE CONTIENE LAS SUCURSALES';
COMMENT ON COLUMN SUCURSALES.ID_SUCURSAL IS 'LLAVE PRIMARIA DE LA TABLA SUCURSALES';
COMMENT ON COLUMN SUCURSALES.IDEMPRESA IS 'LLAVE FORANEA QUE APUNTA A LA TABLA DEPARTAMENTO';
COMMENT ON COLUMN SUCURSALES.NOMBRE IS 'NOMBRE DE LAS SUCURSALES';
COMMENT ON COLUMN SUCURSALES.DIRECCION IS 'DIRECCION DE LAS SUCURSALES';
COMMENT ON COLUMN SUCURSALES.CIUDAD IS 'CIUDAD DE LAS SUCURSALES';
COMMENT ON COLUMN SUCURSALES.FECHA_APERTURA IS 'FECHA DE APERTURA DE LAS SUCURSALES';

-- Crear la Tabla Puestos
CREATE TABLE PUESTOS (
    ID_PUESTO NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NOMBRE VARCHAR2(100) NOT NULL,
    ACTIVIDADES VARCHAR2(200) NOT NULL  
);

COMMENT ON TABLE PUESTOS IS 'TABLA QUE CONTIENE LOS PUESTOS';
COMMENT ON COLUMN PUESTOS.ID_PUESTO IS 'LLAVE PRIMARIA DE LA TABLA PUESTOS';
COMMENT ON COLUMN PUESTOS.NOMBRE IS 'NOMBRE DE LOS PUESTOS';
COMMENT ON COLUMN PUESTOS.ACTIVIDADES IS 'ACTIVIDADES DE LOS PUESTOS';

ALTER TABLE PUESTOS MODIFY ACTIVIDADES VARCHAR2(255);


COMMIT;

SELECT * FROM EMPRESA;
SELECT * FROM DEPARTAMENTO;
SELECT * FROM EMPLEADO;
SELECT * FROM SUCURSALES;
SELECT * FROM PUESTOS;


SELECT ID_PUESTO, NOMBRE FROM PUESTOS;
